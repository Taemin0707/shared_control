<launch>
    <!-- <arg name="prefix" default="mini_bringup" /> -->

    <node name="rosserial_core" pkg="rosserial_python" type="serial_node.py" output="screen">
        <param name="port" type="string" value="/dev/ttyACM0" />
        <param name="baud" type="int" value="115200" />
    </node>

    <!-- <include file="$(find rplidar_ros_for_mini)/launch/rplidar_a3_mini.launch"/> -->
    <node name="rplidarNode" pkg="rplidar_ros"  type="rplidarNode" output="screen">
        <param name="serial_port"      type="string" value="/dev/ttyUSB0"/>
        <param name="serial_baudrate"  type="int"    value="256000"/>
        <param name="frame_id"         type="string" value="base_scan"/>
        <param name="inverted"         type="bool"   value="false"/>
        <param name="angle_compensate" type="bool"   value="true"/>
        <param name="scan_mode"        type="string" value="Sensitivity"/>
    </node>

    <!-- Camera -->
    <node name="usb_cam" pkg="usb_cam" type="usb_cam_node" output="screen" >
        <param name="video_device" value="/dev/video0" />
        <param name="image_width" value="640" />
        <param name="image_height" value="480" />
        <param name="pixel_format" value="yuyv" />
        <param name="camera_frame_id" value="usb_cam" />
        <param name="io_method" value="mmap"/>
    </node>
    <node name="image_view" pkg="image_view" type="image_view" respawn="false" output="screen">
        <remap from="image" to="camera/color/image_raw"/>
        <param name="autosize" value="true" />
    </node>

    <!-- static tf publisher -->
    <node pkg="tf" type="static_transform_publisher" name="base_link_broadcaster" args="0 0 0.207 0 0 0 1 base_footprint base_link 30" />

    <!-- <node pkg="tf" type="static_transform_publisher" name="laser_broadcaster" args="0.055 0 0 0 0 0 1 base_link laser 30" /> -->
    <node pkg="tf" type="static_transform_publisher" name="base_scan_broadcaster" args="0.055 0 0 0 0 0 1 base_link base_scan 30" />

    <node pkg="tf" type="static_transform_publisher" name="imu_broadcaster" args="-0.116 0 -0.182 0 0 0 1 base_link imu_link 30" />

    <node pkg="tf" type="static_transform_publisher" name="wheel_front_right_broadcaster" args="0 -0.1765 -0.207 0 0 0 1 base_link wheel_front_right_link 30" />

    <node pkg="tf" type="static_transform_publisher" name="wheel_front_left__broadcaster" args="0 0.1765 -0.207 0 0 0 1 base_link wheel_front_left_link 30" />

    <node pkg="tf" type="static_transform_publisher" name="wheel_back_right_broadcaster" args="-0.2645 0.0825 -0.207 0 0 0 1 base_link wheel_back_right_link 30" />

    <node pkg="tf" type="static_transform_publisher" name="wheel_back_left_broadcaster" args="-0.2645 -0.0825 -0.207 0 0 0 1 base_link wheel_back_left_link 30" />

 </launch>
